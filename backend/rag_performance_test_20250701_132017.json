{
  "timestamp": "2025-07-01 13:14:39",
  "profiles": {
    "speed": {
      "profile": "speed",
      "total_queries": 10,
      "successful_queries": 10,
      "success_rate": 1.0,
      "total_time": 94.6408338546753,
      "avg_time": 9.464083385467529,
      "median_time": 8.796042084693909,
      "min_time": 3.4078152179718018,
      "max_time": 18.829532384872437,
      "std_time": 4.490635028138422,
      "queries_per_minute": 6.339758173742673,
      "config": {
        "performance": {
          "top_k": 6,
          "max_chunks": 5,
          "max_tokens": 1200,
          "max_chars_per_chunk": 400,
          "min_relevance_score": 0.3,
          "use_cross_encoder": true,
          "cache_size": 1000,
          "batch_size": 32,
          "alpha": 0.6,
          "llm_temperature": 0.1,
          "llm_max_tokens": 1024
        },
        "retrieval": {
          "alpha": 0.7,
          "embedding_model": "all-mpnet-base-v2",
          "cross_encoder_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
          "chunk_window": 200,
          "chunk_overlap": 50
        },
        "llm": {
          "n_ctx": 2048,
          "n_threads": 8,
          "n_gpu_layers": -1,
          "verbose": false,
          "n_batch": 128,
          "use_mlock": true,
          "use_mmap": true,
          "f16_kv": true,
          "logits_all": false,
          "metal": true,
          "low_vram": false,
          "seed": -1,
          "rope_scaling_type": 0,
          "repeat_penalty": 1.1,
          "last_n_tokens_size": 64,
          "temperature": 0.1,
          "top_p": 0.9,
          "max_tokens": 1024
        },
        "namespace": {
          "documents": {
            "boost": 1.1,
            "keywords": [
              "regolamento",
              "norme",
              "procedure",
              "requisiti",
              "criteri",
              "modalità",
              "scadenze",
              "termini",
              "documentazione",
              "certificati",
              "attestati",
              "esami",
              "lauree",
              "tesi",
              "stage",
              "tirocinio",
              "erasmus",
              "borsa",
              "contributo",
              "tassa",
              "pagamento",
              "iscrizione",
              "immatricolazione",
              "graduatoria",
              "concorso",
              "ammissione",
              "trasferimento",
              "rinuncia"
            ]
          },
          "db": {
            "boost": 1.0,
            "keywords": [
              "quali",
              "elenca",
              "mostra",
              "lista",
              "tutti",
              "corsi",
              "professori",
              "studenti",
              "anno",
              "matricola",
              "insegnante",
              "corso",
              "email",
              "contatti",
              "dipartimento",
              "facoltà",
              "review",
              "recensioni",
              "materiale",
              "edizione",
              "orario",
              "aula",
              "sede",
              "dove",
              "quando",
              "come",
              "chi",
              "cosa",
              "dove",
              "quanto"
            ]
          }
        },
        "prompt": {
          "system_prompt": "Sei FAQBuddy, un assistente intelligente per un portale universitario italiano. \n\nCOMPITI:\n- Rispondi a domande su università, corsi, professori, materiali didattici\n- Fornisci informazioni accurate basate SOLO sui documenti forniti\n- Mantieni un tono professionale ma amichevole\n- Usa sempre il formato Markdown per una migliore leggibilità\n- Cita le fonti quando appropriato\n\nREGOLE IMPORTANTI:\n- NON inventare informazioni\n- Se non hai informazioni sufficienti, dillo chiaramente\n- Rispondi SEMPRE in italiano\n- Sii conciso ma completo\n- Usa elenchi puntati per informazioni strutturate\n\nFORMATO RISPOSTA:\n- Usa titoli (# ##) per organizzare la risposta\n- Usa elenchi puntati (-) per liste\n- Usa grassetto (**testo**) per enfasi\n- Usa corsivo (*testo*) per termini tecnici\n- Cita le fonti tra parentesi quando appropriato",
          "fast_prompt": "Sei FAQBuddy, un assistente per un portale universitario italiano. \nRispondi in italiano basandoti SOLO sui documenti forniti. \nUsa formato Markdown. Non inventare informazioni.",
          "query_enhancement_keywords": {
            "university": [
              "università",
              "corso",
              "professore",
              "esame",
              "materiale",
              "segreteria",
              "iscrizione",
              "laurea",
              "facoltà",
              "dipartimento"
            ],
            "informational": [
              "quali",
              "elenca",
              "lista",
              "mostra"
            ],
            "procedural": [
              "come",
              "procedura",
              "modalità"
            ],
            "temporal": [
              "quando",
              "data",
              "scadenza"
            ]
          }
        },
        "database": {
          "pinecone": {
            "index_name": "exams-index-enhanced",
            "docs_namespace": "documents",
            "db_namespace": "db",
            "dimension": 768,
            "metric": "cosine"
          },
          "local": {
            "data_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/data",
            "models_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/models"
          }
        },
        "error": {
          "max_retries": 3,
          "retry_delay": 1.0,
          "timeout": 30.0,
          "fallback_responses": {
            "llm_unavailable": "⚠️ Errore: Modello LLM non disponibile. Controlla che il file del modello sia presente nella cartella models/.",
            "retrieval_failed": "Mi dispiace, non sono riuscito a trovare informazioni pertinenti per la tua domanda.",
            "generation_failed": "Mi dispiace, si è verificato un errore durante la generazione della risposta.",
            "general_error": "Mi dispiace, si è verificato un errore durante l'elaborazione della tua domanda."
          }
        },
        "monitoring": {
          "enable_performance_tracking": true,
          "enable_cache_stats": true,
          "enable_retrieval_stats": true,
          "enable_llm_stats": true,
          "log_level": "INFO",
          "performance_thresholds": {
            "retrieval_time_warning": 5.0,
            "generation_time_warning": 10.0,
            "total_time_warning": 15.0
          }
        }
      },
      "detailed_results": [
        {
          "query": "Quanti CFU ha il corso di Informatica?",
          "answer": "**Risposta:**\n\n**# Informazione sulle CFU del corso di Informatica**\n\n- Per ottenere informazioni precise sui CFU (Crediti Formativi Universitari) di ogni corso, è necessario consultare direttamente il *Regolamento Studi* della relativa facoltà o dipartimento.\n- Nonostante non si trovi esplicitamente indicata la quantità di CFU del corso di Informatica nel contesto fornito, è possibile cercare questa informazione consultando i documenti ufficiali della università.\n\n**Fonti:**\n\n- [Regolamento Studi](https://www.universita.it/documenti/regolamenti_studi) (Università Italiana)",
          "time": 10.04245400428772,
          "success": true
        },
        {
          "query": "Quali sono i professori del dipartimento di Informatica?",
          "answer": "# Professori del Dipartimento di Informatica\n\n- **Maurizio Lenzerini**: Docente del corso di *Basi di Dati* per il periodo 'S1/2025'\n- **Giuseppe Oriolo**: Docente del corso di *Sistemi di Controllo* per il periodo 'S2/2024'\n- **Francesco Leotta**: Docente del corso di *Progettazione del Software* per il periodo 'S1/2024'\n\n[Fonti: Snippet 1, Snippet 2, Snippet 3]",
          "time": 6.391050815582275,
          "success": true
        },
        {
          "query": "Come funziona l'iscrizione ai corsi?",
          "answer": "# Procedura per iscriversi ancormente non specificata\n\n1. Per ottenere informazioni dettagliate sull'iscrizione ai corsi, si prega di contattare la segreteria del relativo Dipartimento o Facoltà.\n2. Informazioni su come iscriversi potrebbero essere disponibili sul sito web dell'Università o del Dipartimento/Facoltà specifico.\n3. Per iscriversi, si dovrebbe presentarsi in persona al ufficio di iscrizione con i documenti richiesti e il pagamento della quota di iscrizione.\n4. Alcuni corsi possono richiedere un interview o una prova di ammissione.\n5. Per ulteriori informazioni, si prega di contattare la segreteria del Dipartimento/Facoltà specifico.\n\n(Fonti: Snippet 1, 2 e 3)",
          "time": 9.469338178634644,
          "success": true
        },
        {
          "query": "Quando sono le scadenze per gli esami?",
          "answer": "# Scadenze per gli esami\n\nGli utenti devono indicare le loro preferenze entro l'8 settembre 2025 per le seguenti selezioni:\n\n- TOLC-I (valida anche in modalità TOLC@CASA) sostenuta tra il 1° gennaio 2024 e la scadenza indicata per ciascuna selezione\n- ENGLISH TOLC-I (valida anche in modalità TOLC@CASA) sostenuta entro la scadenza indicata per ciascuna selezione\n\n(Fonte: tmp9pgnwvi0.pdf, Pagina: 6.0, Sezione: 3. Selezioni)",
          "time": 15.157523155212402,
          "success": true
        },
        {
          "query": "Quali materiali didattici sono disponibili?",
          "answer": "# Materiali Didattici\n\nNon ho informazioni precise sui materiali didattici disponibili per il corso di Laurea in Ingegneria Informatica e Automatica offerto dalla Facoltà di Ingegneria dell'informazione, informatica e statistica. (Snippet 3)\n\nTuttavia, potete contattare la segreteria del corso per chiedere dettagli sui materiali didattici: *segreteria-corso@uniroma1.it*\n\n(Fonti: Snippet 3)",
          "time": 6.43300199508667,
          "success": true
        },
        {
          "query": "Come posso contattare la segreteria?",
          "answer": "**Come contattare la segreteria**\n\nPer contattare la segreteria, puoi utilizzare uno dei seguenti metodi:\n\n- Telefono: *(numero di telefono)*\n- Email: *segreteria@universita.it*\n\nFonti: [Snippet 1](Fonte: tmp9pgnwvi0.pdf, Pagina: 6.0, Sezione: 1. Contatti)",
          "time": 7.318033933639526,
          "success": true
        },
        {
          "query": "Quali sono i requisiti per la laurea?",
          "answer": "**Requisiti per la Laurea**\n\nPer ottenere la laurea in un qualsiasi campo presso l'università, sono richiesti i seguenti requisiti:\n\n- **Corsi di Studio:** Completamento di tutti i corsi obbligatori e facoltativi indicati nel proprio piano di studio.\n- **Voto Minimo:** Il voto minimo per la laurea è stabilito dal Dipartimento e varia a seconda del campo di studio.\n- **Esami:** Superamento di tutti gli esami di Stato e di Stato Finale.\n- **Tesina:** Presentazione e difesa di una tesina originale in un campo specifico del proprio campo di studio.\n\n**Fonti:**\n[Snippet 1], [Snippet 2], [Snippet 3] (Recensioni studentesche)",
          "time": 8.461870908737183,
          "success": true
        },
        {
          "query": "Come funziona il sistema di valutazione?",
          "answer": "# Risposta al domanda utente\n\n## Sistema di valutazione\n\nIl sistema di valutazione del portale universitario italiano si basa su una recensione da parte degli studenti per ogni corso. Quando un studente iscrive sé stesso a un corso on-line, può lasciare un commento e assegnare un voto tra 1 (minimo) e 5 (massimo).\n\n**Fonti:** Snippet 1 (pagina 7.0, sezione 7 3.1), Snippet 2 (pagina 7.0, sezione 7 3.1)\n\n## Procedura per lasciare una recensione\n\nPer lasciare una recensione, il studente deve seguire le indicazioni riportate sul portale:\n\n1. Accedere a Infostud con le proprie credenziali di accesso;\n2. Cliccare sul pulsante “Corsi di laurea”;\n3. Selezionare “gestione preferenze”;\n4. Selezionare il codice prova del corso interessato e cliccare sul pulsante “prosegui”;\n5. Selezionare dal elenco a tendina il corso desiderato, contrassegnato con il codice indicato;\n6. Cliccare sul pulsante “inserisci/modifica”;\n7. Nella nuova finestra, lasciare un commento e assegnare un voto.\n\n**Fonti:** Snippet 1 (pagina 7.0, sezione 7 3.1)\n\n## Esempio di recensione\n\nUn esempio di recensione per il corso di Programmazione I è: \"Corso molto interessante e ben strutturato. Voto: 5/5.\"\n\n**Fonti:** Snippet 3 (database)",
          "time": 18.829532384872437,
          "success": true
        },
        {
          "query": "Dove si trova l'aula magna?",
          "answer": "**Risposta:**\n\n**# Aula Magna**\n\nNelle informazioni fornite non è specificato dove si trovi l'Aula Magna del nostro ateneo. Per ottenere questa informazione, si prega di contattare il segreteria universitaria o le autorità responsabili dell'amministrazione degli spazi auli.\n\n**Fonti:**\n- tmp9pgnwvi0.pdf, Pagina: 4.0, Sezione: Non applicabile\n- document, Pagina: 4.0, Sezione: 7. (Immatricolazione)\n- database\n\n**Snippet 1**, **Snippet 2**, e **Snippet 3** non forniscono informazioni sui locali dell'Aula Magna.",
          "time": 9.130213260650635,
          "success": true
        },
        {
          "query": "Quali sono le modalità d'esame?",
          "answer": "# Modalità d'esame\n\nLe informazioni riguardanti le modalità d'esame non sono disponibili nei documenti forniti. (Snippet 1, Snippet 2, Snippet 3)",
          "time": 3.4078152179718018,
          "success": true
        }
      ]
    },
    "balanced": {
      "profile": "balanced",
      "total_queries": 10,
      "successful_queries": 10,
      "success_rate": 1.0,
      "total_time": 132.37509059906006,
      "avg_time": 13.237509059906007,
      "median_time": 12.684301137924194,
      "min_time": 5.924147129058838,
      "max_time": 21.51406192779541,
      "std_time": 6.342720615487068,
      "queries_per_minute": 4.532574801533396,
      "config": {
        "performance": {
          "top_k": 6,
          "max_chunks": 5,
          "max_tokens": 1200,
          "max_chars_per_chunk": 400,
          "min_relevance_score": 0.3,
          "use_cross_encoder": true,
          "cache_size": 1000,
          "batch_size": 32,
          "alpha": 0.6,
          "llm_temperature": 0.1,
          "llm_max_tokens": 1024
        },
        "retrieval": {
          "alpha": 0.7,
          "embedding_model": "all-mpnet-base-v2",
          "cross_encoder_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
          "chunk_window": 200,
          "chunk_overlap": 50
        },
        "llm": {
          "n_ctx": 2048,
          "n_threads": 8,
          "n_gpu_layers": -1,
          "verbose": false,
          "n_batch": 128,
          "use_mlock": true,
          "use_mmap": true,
          "f16_kv": true,
          "logits_all": false,
          "metal": true,
          "low_vram": false,
          "seed": -1,
          "rope_scaling_type": 0,
          "repeat_penalty": 1.1,
          "last_n_tokens_size": 64,
          "temperature": 0.1,
          "top_p": 0.9,
          "max_tokens": 1024
        },
        "namespace": {
          "documents": {
            "boost": 1.1,
            "keywords": [
              "regolamento",
              "norme",
              "procedure",
              "requisiti",
              "criteri",
              "modalità",
              "scadenze",
              "termini",
              "documentazione",
              "certificati",
              "attestati",
              "esami",
              "lauree",
              "tesi",
              "stage",
              "tirocinio",
              "erasmus",
              "borsa",
              "contributo",
              "tassa",
              "pagamento",
              "iscrizione",
              "immatricolazione",
              "graduatoria",
              "concorso",
              "ammissione",
              "trasferimento",
              "rinuncia"
            ]
          },
          "db": {
            "boost": 1.0,
            "keywords": [
              "quali",
              "elenca",
              "mostra",
              "lista",
              "tutti",
              "corsi",
              "professori",
              "studenti",
              "anno",
              "matricola",
              "insegnante",
              "corso",
              "email",
              "contatti",
              "dipartimento",
              "facoltà",
              "review",
              "recensioni",
              "materiale",
              "edizione",
              "orario",
              "aula",
              "sede",
              "dove",
              "quando",
              "come",
              "chi",
              "cosa",
              "dove",
              "quanto"
            ]
          }
        },
        "prompt": {
          "system_prompt": "Sei FAQBuddy, un assistente intelligente per un portale universitario italiano. \n\nCOMPITI:\n- Rispondi a domande su università, corsi, professori, materiali didattici\n- Fornisci informazioni accurate basate SOLO sui documenti forniti\n- Mantieni un tono professionale ma amichevole\n- Usa sempre il formato Markdown per una migliore leggibilità\n- Cita le fonti quando appropriato\n\nREGOLE IMPORTANTI:\n- NON inventare informazioni\n- Se non hai informazioni sufficienti, dillo chiaramente\n- Rispondi SEMPRE in italiano\n- Sii conciso ma completo\n- Usa elenchi puntati per informazioni strutturate\n\nFORMATO RISPOSTA:\n- Usa titoli (# ##) per organizzare la risposta\n- Usa elenchi puntati (-) per liste\n- Usa grassetto (**testo**) per enfasi\n- Usa corsivo (*testo*) per termini tecnici\n- Cita le fonti tra parentesi quando appropriato",
          "fast_prompt": "Sei FAQBuddy, un assistente per un portale universitario italiano. \nRispondi in italiano basandoti SOLO sui documenti forniti. \nUsa formato Markdown. Non inventare informazioni.",
          "query_enhancement_keywords": {
            "university": [
              "università",
              "corso",
              "professore",
              "esame",
              "materiale",
              "segreteria",
              "iscrizione",
              "laurea",
              "facoltà",
              "dipartimento"
            ],
            "informational": [
              "quali",
              "elenca",
              "lista",
              "mostra"
            ],
            "procedural": [
              "come",
              "procedura",
              "modalità"
            ],
            "temporal": [
              "quando",
              "data",
              "scadenza"
            ]
          }
        },
        "database": {
          "pinecone": {
            "index_name": "exams-index-enhanced",
            "docs_namespace": "documents",
            "db_namespace": "db",
            "dimension": 768,
            "metric": "cosine"
          },
          "local": {
            "data_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/data",
            "models_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/models"
          }
        },
        "error": {
          "max_retries": 3,
          "retry_delay": 1.0,
          "timeout": 30.0,
          "fallback_responses": {
            "llm_unavailable": "⚠️ Errore: Modello LLM non disponibile. Controlla che il file del modello sia presente nella cartella models/.",
            "retrieval_failed": "Mi dispiace, non sono riuscito a trovare informazioni pertinenti per la tua domanda.",
            "generation_failed": "Mi dispiace, si è verificato un errore durante la generazione della risposta.",
            "general_error": "Mi dispiace, si è verificato un errore durante l'elaborazione della tua domanda."
          }
        },
        "monitoring": {
          "enable_performance_tracking": true,
          "enable_cache_stats": true,
          "enable_retrieval_stats": true,
          "enable_llm_stats": true,
          "log_level": "INFO",
          "performance_thresholds": {
            "retrieval_time_warning": 5.0,
            "generation_time_warning": 10.0,
            "total_time_warning": 15.0
          }
        }
      },
      "detailed_results": [
        {
          "query": "Quanti CFU ha il corso di Informatica?",
          "answer": "**Risposta:**\n\n**# Informazioni sul corso di Informatica**\n\n- Per ottenere il numero di CFU (Crediti Formativi Universitari) di un corso specifico, è necessario consultare i documenti ufficiali della propria università.\n- In assenza di tali informazioni, non posso fornire una risposta precisa.\n\n**# Recensioni dei corsi disponibili**\n\n| Corso                | CFU                   |\n|-----------------------|------------------------|\n| Basi di Dati           | (CFU non specificato)  |\n| Sistemi di Calcolo    | (CFU non specificato)  |\n| Sistemi Dinamici      | (CFU non specificato)  |\n| Introduzione alla P.   | (CFU non specificato)  |\n| Informatica           |                        |\n\n**# Conclusione**\n\nPer ottenere il numero di CFU del corso di Informatica, è necessario consultare i documenti ufficiali della propria università. Le recensioni fornite non forniscono questa informazione.",
          "time": 11.688730239868164,
          "success": true
        },
        {
          "query": "Quali sono i professori del dipartimento di Informatica?",
          "answer": "# Professori del Dipartimento di Informatica\n\n- **Maurizio Lenzerini**: Corso di Basi di Dati (S1/2025)\n- **Giuseppe Oriolo**: Corso di Sistemi di Controllo (S2/2024)\n- **Francesco Leotta**: Corso di Progettazione del Software (S1/2024)\n- **Nicola Galesi**: Corso di Fondamenti di Matematica (S1/2023)\n\n[Fonti: Snippet 1, Snippet 2, Snippet 3, Snippet 4]",
          "time": 7.111363172531128,
          "success": true
        },
        {
          "query": "Come funziona l'iscrizione ai corsi?",
          "answer": "# Risposta all'utente\n\nPer iscriversi a un corso, è necessario seguire i passaggi descritti nella procedura di iscrizione fornita dal sito web del Dipartimento o della Facoltà che offre il corso desiderato. In genere, si dovranno completare le seguenti fasi:\n\n1. **Laurea**: Se non si è ancora iscritto a una laurea, occorre prima iscriversi ad una di quelle offerte dal Dipartimento o dalla Facoltà interessata.\n2. **Preiscrizione**: Successivamente, è necessario preiscriversi al corso desiderato entro i termini stabiliti. Questa operazione solitamente richiede la completa compilazione di un questionario online e l'invio di documenti qualificativi (come certificati di scuola secondaria o di altre lauree).\n3. **Pagamento**: Al termine della preiscrizione, occorre pagare i relativi costi di iscrizione al corso.\n4. **Conferma**: Infine, ricevere una conferma ufficiale dell'iscrizione al corso, che solitamente viene comunicata via email.\n\nSe si desidera ottenere informazioni più dettagliate sulla procedura di iscrizione a un particolare corso, è consigliabile contattare la segreteria del Dipartimento o della Facoltà interessata.\n\n**Fonti:** Snippet 1, Snippet 2, Snippet 3\n\n# Informazioni aggiuntive\n\nPer informazioni dettagliate sulle procedure di iscrizione ai singoli corsi e per contattare la segreteria del Dipartimento o della Facoltà interessata, si veda il sito web ufficiale del Dipartimento di Ingegneria informatica, automatica e gestionale Antonio Ruberti.\n\n**Fonti:** Snippet 1, Snippet 2, Snippet 3",
          "time": 21.51406192779541,
          "success": true
        },
        {
          "query": "Quando sono le scadenze per gli esami?",
          "answer": "# Scadenze per gli esami\n\nLe scadenze per sostenere gli esami variano a seconda delle selezioni. In base al testo fornito, la terza selezione ha scadenza entro l'8 settembre 2025. (Snippet 1)\n\nPer altre informazioni dettagliate, si invita l'utente a consultare i documenti ufficiali della selezione desiderata.\n\nFonti: Snippet 1 [Fonte: tmp9pgnwvi0.pdf, Pagina: 6.0, Sezione: 3. Selezioni]",
          "time": 20.896037817001343,
          "success": true
        },
        {
          "query": "Quali materiali didattici sono disponibili?",
          "answer": "# Materiali Didattici\n\nI documenti forniti non forniscono informazioni precise sui materiali didattici disponibili per i vari corsi. Per ottenere informazioni aggiornate e dettagliate, si prega di contattare la segreteria del relativo dipartimento o corso.\n\nFonti: Snippet 1, Snippet 3",
          "time": 6.174160003662109,
          "success": true
        },
        {
          "query": "Come posso contattare la segreteria?",
          "answer": "**Come contattare la segreteria**\n\nPer contattare la segreteria, puoi utilizzare uno dei seguenti metodi:\n\n- Telefono: Consulta il tuo documento di iscrizione per il numero di telefono.\n- Email: Segreteria@universita.it\n- Ufficio fisico: Consulta la mappa del campus per trovare l'indirizzo dell'ufficio della segreteria.\n\nFonti: Documenti forniti durante l'iscrizione.",
          "time": 17.2931010723114,
          "success": true
        },
        {
          "query": "Quali sono i requisiti per la laurea?",
          "answer": "**Requisiti per la Laurea**\n\nPer ottenere la laurea in un qualsiasi campo presso l'università, sono richiesti i seguenti requisiti:\n\n- **Corsi di Studio**: Laurea si ottiene completando tutti i corsi previsti dal proprio piano di studio.\n- **Voto Minimo**: Ogni corso deve essere superato con un voto minimo, solitamente pari a 18/30 o 60%.\n- **Esami di Stato**: Alcuni corsi richiedono l'esame di Stato (o Esame di Libera Scelta), che deve essere superato per poter proseguire nel proprio piano di studio.\n- **Tesi di Laurea**: Ogni studente deve presentare e difendere una Tesi di Laurea, un progetto o una ricerca originale in campo relativo al proprio campo di studio.\n\nFonti: [Regolamento Studi Universitari](https://www.universita.it/documenti/regolamenti-studij)\n\n**Corsi di Studio**\n\nPer conoscere i singoli corsi previsti nel tuo piano di studio, consulta il tuo [Piano di Studio](https://portale.univerisità.it/pianostudio).\n\nFonti: [Portale Universitario](https://portale.univerisità.it/)",
          "time": 13.679872035980225,
          "success": true
        },
        {
          "query": "Come funziona il sistema di valutazione?",
          "answer": "# Risposta al domanda utente\n\nPer valutare i corsi, il sistema utilizza una recensione da parte degli studenti. Le recensioni consistono in un voto (su una scala di 5) e un commento.\n\n1. **Voto:** Il voto viene assegnato attraverso una scala da 1 a 5, con 5 rappresentando la valutazione più alta.\n2. **Commento:** Il commento è un testo libero dove gli studenti possono descrivere le loro impressioni sul corso, ad esempio, qualità didattica, struttura del corso, materiali didattici e così via.\n\nPer lasciare una recensione, l'utente deve seguire le indicazioni fornite sul portale universitario:\n\n- Accedere al proprio account su InfoStud con le credenziali di accesso;\n- Cliccare sul pulsante “Corsi di laurea”;\n- Selezionare “gestione preferenze”;\n- Selezionare il codice prova del corso da valutare e cliccare sul pulsante “prosegui”;\n- Selezionare il corso dalla lista a tendina, contrassegnato con il codice indicato;\n- Cliccare sul pulsante “inserisci/modifica” e lasciare i commenti desiderati.\n\n[Fonte: tmp9pgnwvi0.pdf, Pagina: 7.0, Sezione: 7 3.1 - Iscrizione al TOLC Per iscriverti al TOLC (Test On Line Cisia) devi seguire le indicazioni riportate sul]\n\n**Fonti:**\n- tmp9pgnwvi0.pdf, Pagina: 7.0, Sezione: 7 3.1 - Iscrizione al TOLC Per iscriverti al TOLC (Test On Line Cisia) devi seguire le indicazioni riportate sul\n- database",
          "time": 20.115522146224976,
          "success": true
        },
        {
          "query": "Dove si trova l'aula magna?",
          "answer": "**Risposta:**\n\n**# Aula Magna**\n\nLe informazioni su dove si trova l'Aula Magna non sono disponibili nei documenti forniti (Snippet 1 e Snippet 2) che riguardano l'immatricolazione. Per ottenere questa informazione, è consigliabile contattare direttamente il proprio Dipartimento o la Segreteria Universitaria.\n\n**Fonti:**\n- tmp9pgnwvi0.pdf, Pagina: 4.0, Sezione: 7 (Immatricolazione)\n- document, Pagina: 4.0, Sezione: 7 (Immatricolazione)",
          "time": 7.978095054626465,
          "success": true
        },
        {
          "query": "Quali sono le modalità d'esame?",
          "answer": "# Modalità d'esame\n\nLe informazioni riguardanti le modalità d'esame non sono disponibili nei documenti forniti (Snippet 1, 2, 3 e 4). Per ottenere questo tipo di informazione, è consigliabile contattare direttamente la segreteria del relativo corso o dipartimento.\n\nFonti:\n- Snippet 1, 2, 3 e 4 [Fonte non specificata]",
          "time": 5.924147129058838,
          "success": true
        }
      ]
    },
    "quality": {
      "profile": "quality",
      "total_queries": 10,
      "successful_queries": 10,
      "success_rate": 1.0,
      "total_time": 108.5977885723114,
      "avg_time": 10.85977885723114,
      "median_time": 9.526329517364502,
      "min_time": 5.335485219955444,
      "max_time": 17.66923975944519,
      "std_time": 4.6845363729274965,
      "queries_per_minute": 5.524974383805996,
      "config": {
        "performance": {
          "top_k": 6,
          "max_chunks": 5,
          "max_tokens": 1200,
          "max_chars_per_chunk": 400,
          "min_relevance_score": 0.3,
          "use_cross_encoder": true,
          "cache_size": 1000,
          "batch_size": 32,
          "alpha": 0.6,
          "llm_temperature": 0.1,
          "llm_max_tokens": 1024
        },
        "retrieval": {
          "alpha": 0.7,
          "embedding_model": "all-mpnet-base-v2",
          "cross_encoder_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
          "chunk_window": 200,
          "chunk_overlap": 50
        },
        "llm": {
          "n_ctx": 2048,
          "n_threads": 8,
          "n_gpu_layers": -1,
          "verbose": false,
          "n_batch": 128,
          "use_mlock": true,
          "use_mmap": true,
          "f16_kv": true,
          "logits_all": false,
          "metal": true,
          "low_vram": false,
          "seed": -1,
          "rope_scaling_type": 0,
          "repeat_penalty": 1.1,
          "last_n_tokens_size": 64,
          "temperature": 0.1,
          "top_p": 0.9,
          "max_tokens": 1024
        },
        "namespace": {
          "documents": {
            "boost": 1.1,
            "keywords": [
              "regolamento",
              "norme",
              "procedure",
              "requisiti",
              "criteri",
              "modalità",
              "scadenze",
              "termini",
              "documentazione",
              "certificati",
              "attestati",
              "esami",
              "lauree",
              "tesi",
              "stage",
              "tirocinio",
              "erasmus",
              "borsa",
              "contributo",
              "tassa",
              "pagamento",
              "iscrizione",
              "immatricolazione",
              "graduatoria",
              "concorso",
              "ammissione",
              "trasferimento",
              "rinuncia"
            ]
          },
          "db": {
            "boost": 1.0,
            "keywords": [
              "quali",
              "elenca",
              "mostra",
              "lista",
              "tutti",
              "corsi",
              "professori",
              "studenti",
              "anno",
              "matricola",
              "insegnante",
              "corso",
              "email",
              "contatti",
              "dipartimento",
              "facoltà",
              "review",
              "recensioni",
              "materiale",
              "edizione",
              "orario",
              "aula",
              "sede",
              "dove",
              "quando",
              "come",
              "chi",
              "cosa",
              "dove",
              "quanto"
            ]
          }
        },
        "prompt": {
          "system_prompt": "Sei FAQBuddy, un assistente intelligente per un portale universitario italiano. \n\nCOMPITI:\n- Rispondi a domande su università, corsi, professori, materiali didattici\n- Fornisci informazioni accurate basate SOLO sui documenti forniti\n- Mantieni un tono professionale ma amichevole\n- Usa sempre il formato Markdown per una migliore leggibilità\n- Cita le fonti quando appropriato\n\nREGOLE IMPORTANTI:\n- NON inventare informazioni\n- Se non hai informazioni sufficienti, dillo chiaramente\n- Rispondi SEMPRE in italiano\n- Sii conciso ma completo\n- Usa elenchi puntati per informazioni strutturate\n\nFORMATO RISPOSTA:\n- Usa titoli (# ##) per organizzare la risposta\n- Usa elenchi puntati (-) per liste\n- Usa grassetto (**testo**) per enfasi\n- Usa corsivo (*testo*) per termini tecnici\n- Cita le fonti tra parentesi quando appropriato",
          "fast_prompt": "Sei FAQBuddy, un assistente per un portale universitario italiano. \nRispondi in italiano basandoti SOLO sui documenti forniti. \nUsa formato Markdown. Non inventare informazioni.",
          "query_enhancement_keywords": {
            "university": [
              "università",
              "corso",
              "professore",
              "esame",
              "materiale",
              "segreteria",
              "iscrizione",
              "laurea",
              "facoltà",
              "dipartimento"
            ],
            "informational": [
              "quali",
              "elenca",
              "lista",
              "mostra"
            ],
            "procedural": [
              "come",
              "procedura",
              "modalità"
            ],
            "temporal": [
              "quando",
              "data",
              "scadenza"
            ]
          }
        },
        "database": {
          "pinecone": {
            "index_name": "exams-index-enhanced",
            "docs_namespace": "documents",
            "db_namespace": "db",
            "dimension": 768,
            "metric": "cosine"
          },
          "local": {
            "data_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/data",
            "models_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/models"
          }
        },
        "error": {
          "max_retries": 3,
          "retry_delay": 1.0,
          "timeout": 30.0,
          "fallback_responses": {
            "llm_unavailable": "⚠️ Errore: Modello LLM non disponibile. Controlla che il file del modello sia presente nella cartella models/.",
            "retrieval_failed": "Mi dispiace, non sono riuscito a trovare informazioni pertinenti per la tua domanda.",
            "generation_failed": "Mi dispiace, si è verificato un errore durante la generazione della risposta.",
            "general_error": "Mi dispiace, si è verificato un errore durante l'elaborazione della tua domanda."
          }
        },
        "monitoring": {
          "enable_performance_tracking": true,
          "enable_cache_stats": true,
          "enable_retrieval_stats": true,
          "enable_llm_stats": true,
          "log_level": "INFO",
          "performance_thresholds": {
            "retrieval_time_warning": 5.0,
            "generation_time_warning": 10.0,
            "total_time_warning": 15.0
          }
        }
      },
      "detailed_results": [
        {
          "query": "Quanti CFU ha il corso di Informatica?",
          "answer": "**Risposta:**\n\n**# Informazione sul corso di Informatica**\n\nNon possiamo fornire una risposta esatta senza consultare i documenti ufficiali del tuo portale universitario. Tuttavia, potremmo cercare di fornire informazioni correlate.\n\n**# CFU e Corsi**\n\nCFU (Crediti Formativi Universitari) sono una misura standardizzata per quantificare il carico di studio di un corso universitario. La durata e i crediti formativi variano da un corso all'altro.\n\n**# Recensioni dei Corsi**\n\nLe recensioni fornite non forniscono informazioni sui CFU del corso di Informatica. Le recensioni solo menzionano il nome del corso e il voto assegnato.\n\n**Snippet 1-4 [Fonte non specificata]**\n\n* Recensione di uno studente per il corso di Basi di Dati. Voto: 5/5. Commento: Molto bello il corso è bello il professore è bravo.\n* Recensione di uno studente per il corso di Sistemi di Calcolo. Voto: 5/5. Commento: Corso interessante..\n* Recensione di uno studente per il corso di Sistemi Dinamici. Voto: 4/5. Commento: molto bello.\n* Recensione di uno studente per il corso di Introduzione alla Programmazione. Voto: 1/5. Commento: bellissimo, bravo peppe.\n\n**# Conclusione**\n\nPer ottenere informazioni precise sui CFU del corso di Informatica, si prega di consultare il tuo portale universitario ufficiale o contattare la segreteria studentesca.",
          "time": 17.66923975944519,
          "success": true
        },
        {
          "query": "Quali sono i professori del dipartimento di Informatica?",
          "answer": "# Professori del Dipartimento di Informatica\n\n- **Maurizio Lenzerini**: Corso di Basi di Dati (S1/2025)\n- **Giuseppe Oriolo**: Corso di Sistemi di Controllo (S2/2024)\n- **Francesco Leotta**: Corso di Progettazione del Software (S1/2024)\n- **Nicola Galesi**: Corso di Fondamenti di Matematica (S1/2023)\n\n[Snippet 1, Snippet 2, Snippet 3, Snippet 4]",
          "time": 6.896836757659912,
          "success": true
        },
        {
          "query": "Come funziona l'iscrizione ai corsi?",
          "answer": "# Risposta a domanda utente: Come funziona l'iscrizione ai corsi?\n\nPer informazioni dettagliate sull'iscrizione anno per anno ai singoli corsi, si invita a consultare la sezione relativa della **Facoltà di Ingegneria dell'informazione, informatica e statistica** (afferente al Dipartimento di Ingegneria informatica, automatica e gestionale Antonio Ruberti) sul portale ufficiale dell'Università \"La Sapienza\" di Roma.\n\n- **Modalità di iscrizione**: La modalità di iscrizione ai corsi è regolata dal Regolamento Universitario e varia da anno in anno. Si invita a consultare la sezione dedicata sul portale ufficiale per ottenere informazioni precise.\n- **Termini e condizioni**: Per iscriversi ai corsi, sono richiesti determinati termini e condizioni, come ad esempio la presentazione di certificati di frequenza e di valutazione dei crediti universitari (CFU) acquisiti in precedenza. Si invita a consultare il Regolamento Universitario per ottenere informazioni precise.\n- **Contatti**: Per qualsiasi domanda riguardante l'iscrizione ai corsi, si può contattare la segreteria della Facoltà attraverso l'indirizzo email `segreteria-fiis@uniroma1.it`.\n\nFonti: Snippet 1, Snippet 2 e Regolamento Universitario dell'Università \"La Sapienza\" di Roma.",
          "time": 15.909856081008911,
          "success": true
        },
        {
          "query": "Quando sono le scadenze per gli esami?",
          "answer": "# Scadenze per gli esami\n\nLe scadenze per le selezioni con scorrimenti di graduatoria, per sostenere il TOLC-I o ENGLISH TOLC-I, sono l'8 settembre 2025 (Fonte: snippet 1).\n\nPer quanto riguarda i corsinghi, la documentazione fornita non specifica esplicitamente le scadenze per gli esami.\n\n# Fonti consultate\n- Snippet 1 [Fonte: tmp9pgnwvi0.pdf, Pagina: 6.0, Sezione: 3. Selezioni]",
          "time": 10.206530094146729,
          "success": true
        },
        {
          "query": "Quali materiali didattici sono disponibili?",
          "answer": "# Materiali Didattici\n\nI documenti forniti non forniscono informazioni precise sui materiali didattici disponibili per i vari corsi. Per ottenere informazioni aggiornate e dettagliate, si prega di contattare la segreteria del relativo dipartimento o corso.\n\nFonti: Snippet 1, 2, 3 e 4.",
          "time": 5.335485219955444,
          "success": true
        },
        {
          "query": "Come posso contattare la segreteria?",
          "answer": "**Come contattare la segreteria**\n\nPer contattare la segreteria, puoi utilizzare i seguenti metodi:\n\n- **Telefono:** Consulta il tuo documento di iscrizione per trovare il numero di telefono.\n- **Email:** Scrivi all'indirizzo segreteria@universita.it.\n- **Ufficio fisico:** Visita l'ufficio della segreteria durante le ore di apertura.\n\nFonti: Documenti forniti dal tuo portale universitario.",
          "time": 7.5797119140625,
          "success": true
        },
        {
          "query": "Quali sono i requisiti per la laurea?",
          "answer": "**Requisiti per la Laurea**\n-------------------------\n\nLe informazioni sui requisiti per la laurea possono variare a seconda del corso di studio specifico. In assenza di documenti precisi, non possiamo fornire una risposta definitiva. Tuttavia, potremmo indicare i requisiti generici applicabili a tutte le lauree.\n\n- **Durata**: La maggior parte dei corsi universitari dura 3 anni (6 semestri).\n- **Esami di Stato**: Al termine di ogni anno accademico, devono essere superati gli esami di Stato per poter proseguire il corso.\n- **Crediti**: La maggior parte dei corsi richiede l'ottenimento di un determinato numero di crediti (ECTS) per la laurea.\n- **Lingua**: Almeno una certa conoscenza della lingua italiana è richiesta per la maggior parte dei corsi universitari in Italia.\n\nPer informazioni più dettagliate, si prega di consultare il regolamento del proprio corso di studio o contattare il relativo ufficio studi.\n\n**Fonti:**\n- [Regolamento Studi Università di Bologna](https://www.unibo.it/sito_dinamico/studenti/documenti/regolamenti/index.html)\n- [Ciclo formativo universitario](https://www.anvur.it/it/ciclo-formativo-universitario/)",
          "time": 15.28360390663147,
          "success": true
        },
        {
          "query": "Come funziona il sistema di valutazione?",
          "answer": "# Risposta al domanda utente\n\nPer valutare i corsi, il sistema utilizza una recensione da parte degli studenti. Le recensioni consistono in un voto (su una scala di 5) e un commento.\n\n1. **Voto:** Il voto è assegnato da ogni studente al termine del corso, su una scala da 1 a 5.\n2. **Commento:** Il commento è opzionale ed è un feedback scritto da parte degli studenti per descrivere le loro impressioni sul corso.\n\nPer effettuare una valutazione, il studente deve seguire le indicazioni riportate sul portale universitario:\n\n- Accedere a Infostud con le proprie credenziali di accesso;\n- Cliccare sul pulsante “Corsi di laurea”;\n- Selezionare “gestione preferenze”;\n- Selezionare il codice prova del corso da valutare e cliccare sul pulsante “prosegui”;\n- Selezionare il corso dal elenco a tendina, contrassegnato con il codice indicato;\n- Cliccare sul pulsante “inserisci/modifica” per aprire la finestra di valutazione.\n\nFonti: Snippet 1 (tmp9pgnwvi0.pdf, Pagina: 7.0, Sezione: 7 3.1) e database.",
          "time": 15.138283967971802,
          "success": true
        },
        {
          "query": "Dove si trova l'aula magna?",
          "answer": "**Risposta:**\n\n**# Aula Magna**\n\nLe informazioni su dove si trova l'Aula Magna non sono disponibili nei documenti forniti (Snippet 1 e Snippet 2) che riguardano l'immatricolazione. Per ottenere questa informazione, è consigliabile contattare direttamente la segreteria universitaria o il servizio studentesco presso l'Università Sapienza di Roma.\n\nCita le fonti:\n- Snippet 1 [Fonte: tmp9pgnwvi0.pdf, Pagina: 4.0, Sezione: 7. Immatricolazione]\n- Snippet 2 [Fonte: document, Pagina: 4.0, Sezione: 7. Immatricolazione]",
          "time": 8.846128940582275,
          "success": true
        },
        {
          "query": "Quali sono le modalità d'esame?",
          "answer": "# Modalità d'esame\n\nLe informazioni riguardanti le modalità d'esame non sono disponibili nei documenti forniti (Snippet 1, 2, 3 e 4). Per ottenere questa informazione, è consigliabile contattare la segreteria del relativo corso o dipartimento.\n\nFonti:\n- Snippet 1, 2, 3 e 4 [Fonte non specificata]",
          "time": 5.732111930847168,
          "success": true
        }
      ]
    }
  },
  "component_tests": {
    "retrieval_stats": [
      {
        "query": "Quanti CFU ha il corso di Informatica?",
        "retrieval_time": 0.49086499214172363,
        "intent": "structured",
        "results_count": 4,
        "prompt_tokens": 118
      },
      {
        "query": "Quali sono i professori del dipartimento di Informatica?",
        "retrieval_time": 0.592979907989502,
        "intent": "structured",
        "results_count": 4,
        "prompt_tokens": 132
      },
      {
        "query": "Come funziona l'iscrizione ai corsi?",
        "retrieval_time": 0.5386359691619873,
        "intent": "structured",
        "results_count": 4,
        "prompt_tokens": 136
      }
    ],
    "avg_retrieval_time": 0.5408269564310709,
    "avg_results_count": 4,
    "avg_prompt_tokens": 128.66666666666666
  },
  "system_tests": {
    "llm": {
      "connection_test": {
        "status": "success",
        "response": "OK.\n\n(I will only respond with",
        "generation_time": 0.43591880798339844,
        "model_path": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/models/mistral-7b-instruct-v0.2.Q4_K_M.gguf",
        "config": {
          "n_ctx": 2048,
          "n_threads": 8,
          "n_gpu_layers": -1,
          "verbose": false,
          "n_batch": 128,
          "use_mlock": true,
          "use_mmap": true,
          "f16_kv": true,
          "logits_all": false,
          "metal": true,
          "low_vram": false,
          "seed": -1,
          "rope_scaling_type": 0,
          "repeat_penalty": 1.1,
          "last_n_tokens_size": 64
        }
      },
      "stats": {
        "model_path": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/models/mistral-7b-instruct-v0.2.Q4_K_M.gguf",
        "model_available": true,
        "config": {
          "n_ctx": 2048,
          "n_threads": 8,
          "n_gpu_layers": -1,
          "verbose": false,
          "n_batch": 128,
          "use_mlock": true,
          "use_mmap": true,
          "f16_kv": true,
          "logits_all": false,
          "metal": true,
          "low_vram": false,
          "seed": -1,
          "rope_scaling_type": 0,
          "repeat_penalty": 1.1,
          "last_n_tokens_size": 64
        },
        "system_info": {
          "context_window": 2048,
          "threads": 8,
          "gpu_layers": -1,
          "metal_enabled": true
        }
      }
    },
    "retrieval": {
      "cache_stats": {
        "cache_size": 4,
        "cache_hits": 8,
        "cache_misses": 4,
        "hit_rate": 0.6666666666666666
      },
      "config": {
        "top_k": 4,
        "alpha": 0.7,
        "embedding_model": "all-mpnet-base-v2",
        "cross_encoder_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
        "use_cross_encoder": true
      }
    },
    "pipeline": {
      "total_queries": 10,
      "avg_retrieval_time": 1.0906426191329956,
      "avg_generation_time": 9.768362092971802,
      "avg_total_time": 10.85964663028717,
      "successful_queries": 10,
      "failed_queries": 0,
      "retrieval_system": {
        "cache_stats": {
          "cache_size": 4,
          "cache_hits": 8,
          "cache_misses": 4,
          "hit_rate": 0.6666666666666666
        },
        "config": {
          "top_k": 4,
          "alpha": 0.7,
          "embedding_model": "all-mpnet-base-v2",
          "cross_encoder_model": "cross-encoder/ms-marco-MiniLM-L-6-v2",
          "use_cross_encoder": true
        }
      },
      "system_info": {
        "embedding_model": "all-mpnet-base-v2",
        "top_k": 6,
        "alpha": 0.7,
        "data_dir": "/Users/Edoardo/Documents/Sapienza ING_INF/Thesis_Actual/faqbuddy/backend/data"
      }
    }
  },
  "summary": {
    "best_speed_profile": "speed",
    "best_accuracy_profile": "speed",
    "speed_improvement_percent": 28.505556879031673,
    "quality_improvement_percent": 0.0,
    "recommendations": [
      "Speed profile shows significant performance improvement - consider using for high-traffic scenarios"
    ],
    "optimization_tips": [
      "Reduce top_k for faster retrieval",
      "Disable cross-encoder for speed (use_cross_encoder=False)",
      "Increase alpha for more dense search weight",
      "Reduce max_tokens for faster generation",
      "Use speed profile for maximum performance",
      "Use quality profile for best accuracy",
      "Monitor cache hit rates for embedding optimization",
      "Adjust chunk size based on document characteristics"
    ]
  }
}